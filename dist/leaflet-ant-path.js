!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],e):"object"==typeof exports?exports["leaflet-ant-path"]=e(require("leaflet")):t["leaflet-ant-path"]=e(t.L)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.multiAntPath=e.MultiAntPath=e.antPath=e.AntPath=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),i=n(2),u=r(i),l=n(3),s=r(l),f=n(4),c=r(f),p=n(5),d=r(p),h=n(6);r(h);if(o.Polyline.AntPath=u["default"],o.polyline.antPath=s["default"],t.exports={AntPath:u["default"],antPath:s["default"]},!o.version.match(/^1\..*$/)){var v=n(1),y=v.MultiPolyline,m=v.multiPolyline;y.MultiAntPath=c["default"],m.multiAntPath=d["default"],t.exports=a({},t.exports,{MultiAntPath:c["default"],multiAntPath:d["default"]})}e.AntPath=u["default"],e.antPath=s["default"],e.MultiAntPath=c["default"],e.multiAntPath=d["default"]},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function c(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:c(a,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=n(1),f=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e);var o=a(this,Object.getPrototypeOf(e).call(this));return o._map=null,o._path=null,o._animatedPathId=null,o._animatedPathClass="leaflet-ant-path",o._defaultOptions={paused:!1,delay:400,dashArray:[10,20],weight:5,opacity:.5,color:"#0000FF",pulseColor:"#FFFFFF"},s.Util.setOptions(o,i({},o._defaultOptions,n)),o._path=t,o._animatedPathId="ant-path-"+(new Date).getTime(),o._draw(),o}return o(e,t),u(e,[{key:"onAdd",value:function(t){this._map=t,this._map.on("zoomend",this._calculateAnimationSpeed,this),this._draw(),this._calculateAnimationSpeed()}},{key:"onRemove",value:function(t){this._map.off("zoomend",this._calculateAnimationSpeed,this),this._map=null,l(Object.getPrototypeOf(e.prototype),"onRemove",this).call(this,t)}},{key:"pause",value:function(){var t=this.options;if(t.paused)return!1;var e=document.getElementsByClassName(this._animatedPathId);for(var n in e)n.removeAttribute("style");return t.paused=!0}},{key:"resume",value:function(){this._calculateAnimationSpeed()}},{key:"_draw",value:function(){var t=this.options,e=this._path,n=this._animatedPathClass,r=this._animatedPathId,a=i({},t),o=i({},t);o.color=o.pulseColor||t.pulseColor,o.className=n+" "+r,delete a.dashArray,this.addLayer(new s.Polyline(e,a)),this.addLayer(new s.Polyline(e,o))}},{key:"_calculateAnimationSpeed",value:function(){var t=this.options,e=this._map,n=this._animatedPathId;if(!t.paused&&e){var r=e.getZoom(),a=document.getElementsByClassName(n),o=1+t.delay/3/r+"s",i=["-webkit-","-moz-","-ms-","-o-",""],u=!0,l=!1,s=void 0;try{for(var f,c=a[Symbol.iterator]();!(u=(f=c.next()).done);u=!0){var p=f.value,d=!0,h=!1,v=void 0;try{for(var y,m=i[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var b=y.value;p.setAttribute("style",b+"animation-duration: "+o)}}catch(g){h=!0,v=g}finally{try{!d&&m["return"]&&m["return"]()}finally{if(h)throw v}}}}catch(g){l=!0,s=g}finally{try{!u&&c["return"]&&c["return"]()}finally{if(l)throw s}}}}}]),e}(s.FeatureGroup);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return new i["default"](t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o);e["default"]=a,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),s=n(2),f=r(s),c=function(t){function e(t,n){a(this,e);var r=o(this,Object.getPrototypeOf(e).call(this));return r.options=null,console.warn("\n            Deprecation warn: Leaflet 1.x doesn't have support for MultiPolylines, please\n            use LayerGroup or FeatureGroup to organize multiple ant-path layers.\n        "),r.options=n,r.setLatLngs(t),r}return i(e,t),u(e,[{key:"setLatLngs",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=0,n=t.length;for(this.eachLayer(function(r){e<n?r.setLatLngs(t[e++]):this.removeLayer(r)},this);e<n;)this.addLayer(new f["default"](t[e++],this.options));return this}},{key:"getLatLngs",value:function(){var t=[];return this.eachLayer(function(e){return t.push(e.getLatLngs())}),t}},{key:"pause",value:function(){this.eachLayer(function(t){return t.pause()})}},{key:"resume",value:function(){this.eachLayer(function(t){return t.resume()})}}]),e}(l.FeatureGroup);e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){return new a.MultiAntPath(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4);e["default"]=r,t.exports=e["default"]},function(t,e,n){var r=n(7);"string"==typeof r&&(r=[[t.id,r,""]]);n(9)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(8)(),e.push([t.id,"@-webkit-keyframes leaflet-ant-path-animation{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0%}}@keyframes leaflet-ant-path-animation{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0%}}path.leaflet-ant-path{fill:none;-webkit-animation:linear infinite leaflet-ant-path-animation;animation:linear infinite leaflet-ant-path-animation}",""])},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=d[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(s(r.parts[o],e))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(s(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:i}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],o=a[0],i=a[1],u=a[2],l=a[3],s={css:i,media:u,sourceMap:l};n[o]?n[o].parts.push(s):e.push(n[o]={id:o,parts:[s]})}return e}function o(t,e){var n=y(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function u(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function s(t,e){var n,r,a;if(e.singleton){var o=b++;n=m||(m=u(e)),r=f.bind(null,n,o,!1),a=f.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=p.bind(null,n),a=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(e),r=c.bind(null,n),a=function(){i(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function f(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function c(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return r(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var u=n[i],l=d[u.id];l.refs--,o.push(l)}if(t){var s=a(t);r(s,e)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var f=0;f<l.parts.length;f++)l.parts[f]();delete d[l.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}])});
//# sourceMappingURL=leaflet-ant-path.js.map